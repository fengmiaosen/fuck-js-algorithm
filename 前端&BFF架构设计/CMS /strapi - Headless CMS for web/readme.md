# Strapi CMS 开发者入门与核心指南

**你将获得**
- 了解 Strapi 的核心理念、架构与适用场景
- 从零认识内容建模与编辑流程
- 使用 REST/GraphQL API 进行内容交付
- 掌握权限、安全与可编程扩展的关键点
- 理解部署与性能优化的实践建议

**为什么选 Strapi**
- Headless 与前后端分离：专注内容生产与管理，前端自由选择技术栈。
- API-first：定义模型即可得到 REST/GraphQL API，便于快速接入各终端。
- 强内容建模：组件与动态区块让复杂页面/文章结构更可复用与维护。

**架构总览**
- 内容类型与组件：通过建模器定义结构，支持集合与单例、关系与嵌套。
- 应用层：控制器与服务承载业务逻辑；策略与中间件负责访问与安全。
- API 层：自动生成 REST 与可选 GraphQL；支持过滤、排序、分页与投影。
- 管理后台：React 驱动的编辑界面，支持列表筛选、表单校验与媒体管理。
- 存储与媒体：支持多数据库与云对象存储（S3、Cloudinary 等）。
- 集成能力：Webhooks 与插件生态对接搜索、CDN、CI/CD 与观测。

**核心概念与建模**
- 内容类型（Content Types）：
  - 集合类型（Collection Type）：适合“文章、产品、活动”等一对多内容。
  - 单例类型（Single Type）：适合“首页配置、站点设置”等唯一实体。
- 组件（Components）：可复用的字段组，降低重复建模与维护成本。
- 动态区块（Dynamic Zones）：在同一字段组合不同组件，适用于模块化页面搭建。
- 关系（Relations）：一对一/一对多/多对多，支持跨类型引用。
- 草稿/发布（Draft/Publish）：保障编辑流程与审阅；控制内容上线节奏。
- 国际化（i18n 插件）：为同一条内容维护多个语言版本。
- 字段与校验：UID、枚举、媒体、富文本、JSON 等类型，并支持必填、唯一等校验。

**编辑与管理体验**
- 可视化建模器：拖拽/配置字段即可生成内容类型。
- 列表与表单：筛选、排序、搜索、批量操作提升编辑效率。
- 媒体库：集中管理图片、视频与文档；支持本地与云端。

**API 使用**
- REST：自动生成 `GET/POST/PUT/DELETE`，支持：
  - 过滤与条件：`filters[field][$eq]`、`$contains`、`$in` 等。
  - 排序与分页：`sort=field:asc`、`pagination[page]=1`、`pagination[pageSize]=10`。
  - 关联展开：`populate=relations` 控制返回的嵌套数据。
- GraphQL（插件）：基于内容类型自动生成 Schema，支持查询、变更与投影。
- Webhooks：在内容创建/更新/发布等事件触发外部系统（如搜索索引与 CDN 刷新）。

**权限与安全**
- RBAC：为管理后台配置角色与操作权限；对公开 API 配置 Public/Authenticated 等角色。
- API Tokens：为服务端通信生成只读/完全访问令牌，限制作用域与过期时间。
- 策略与中间件：在路由级别实施访问控制、速率限制、CORS 与输入校验。

**可编程扩展**
- 控制器与服务：自定义接口与业务逻辑，封装复用能力。
- 生命周期钩子：在内容创建/更新/删除前后执行逻辑（校验、清洗、同步）。
- 插件与后台扩展：增加新字段类型、视图与工作流程能力。

**工作流与发布（企业版）**
- 审核流程（Review Workflows）：配置多阶段审批与角色责任人，适配大型团队。
- 发布计划（Releases/Publishing）：为大促与活动统一安排上线时间。
- 审计日志（Audit Logs）：追踪关键操作，满足合规与审计要求。

**数据与部署建议**
- 数据库：开发用 SQLite，生产推荐 PostgreSQL/MySQL，根据容量与一致性选择。
- 媒体存储：结合对象存储与 CDN 提升带宽与成本效率。
- 性能优化：缓存、只读副本、查询优化与字段投影控制响应体大小。
- 部署形态：容器化与云原生友好；适配 SSR/边缘渲染与 Serverless。

**适用场景**
- 多终端内容交付：同一数据面向 Web、App、小程序与屏幕终端。
- 模块化页面搭建：以组件与动态区块组装营销页与专题页。
- 国际化与协作：完善的 i18n 与审核能力支撑跨区域团队。
- 系统集成：通过 Webhooks 与 API 接入搜索、推荐、CDP 与风控。

**总结**
- Strapi 的 CMS 能力核心在于“强建模 + API-first + 可扩展”。对内容团队提供友好编辑与权限，对技术团队提供可控的业务与安全策略；当需要严谨流程与合规时，企业版补齐治理能力与审计需求。